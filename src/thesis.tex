\documentclass[a4paper, 12pt, headsepline, twoside]{scrartcl}

\newcommand{\titleDocument}{Design and Implementation of a Windows Kernel Driver for LUKS2-encrypted Volumes}

\usepackage[utf8]{inputenc}
\usepackage[T1]{fontenc}
\usepackage{lmodern}
\usepackage[bookmarksnumbered, pdftitle={\titleDocument}, pdfauthor={Max Ihlenfeldt}]{hyperref}
\usepackage{geometry}
\usepackage{capt-of}
\usepackage{scrhack}
\usepackage[automark, pagestyleset=standard, markcase=used]{scrlayer-scrpage}
\usepackage{listings}
\usepackage{listings-rust}
\usepackage{tocbasic}
\usepackage{calc}
\usepackage{tikz}
\usepackage{makecell}
\usepackage{colortbl}
\usepackage{framed}
\usepackage{textcomp}
\usepackage{enumitem}
\usepackage[section]{placeins} % keep figures in the section, see https://tex.stackexchange.com/a/35130

% for drawing braces
\usetikzlibrary{decorations.pathreplacing}
% for graphs
\usetikzlibrary{arrows, positioning}

% as per Richard's recommendation
\bibliographystyle{IEEEtran}

% seems reasonable
\geometry{left=2.5cm, right=2.5cm, top=2.5cm, bottom=2cm}

% adapted from the KOMA-Script manual (chapter 5)
\pagestyle{scrheadings}
\ihead{\headmark}
\ohead{\pagemark}
\chead{}
\cfoot[]{}
\renewcommand*{\sectionmarkformat}{} % no section numbers in header

\DeclareTOCStyleEntries[
  raggedentrytext,
  numwidth=0pt,
  numsep=1ex,
  dynnumwidth,
  linefill=\TOCLineLeaderFill,
]{tocline}{section, subsection, subsubsection, paragraph, subparagraph}

% no sans-serif fonts for (sub)section titles
\setkomafont{disposition}{\normalfont\bfseries}

% colours for code listings
\definecolor{mGreen}{rgb}{0, 0.6, 0}
\definecolor{mPurple}{rgb}{0.58, 0, 0.82}
\definecolor{mGray}{rgb}{0.4, 0.4, 0.4}
\definecolor{backgroundColour}{rgb}{0.92, 0.92, 0.92}

% colours for table cells
\definecolor{tPink}{RGB}{255, 173, 173}
\definecolor{tOrng}{RGB}{255, 214, 165}
\definecolor{tYlow}{RGB}{253, 255, 182}
\definecolor{tGren}{RGB}{202, 255, 191}
\definecolor{tLblu}{RGB}{155, 246, 255}
\definecolor{tBlue}{RGB}{160, 196, 255}
\definecolor{tPurp}{RGB}{189, 178, 255}
\definecolor{tRose}{RGB}{255, 198, 255}

% TikZ styles
% from https://texample.net/tikz/examples/borrowers-and-lenders/
\tikzset{
	% Define standard arrow tip
	>=stealth',
	% rectangular box
	rect/.style={
		rectangle,
		draw=black,
		minimum height=1.75em,
		text centered
	},
	arrow/.style={
		->,
	}
}

% command for text with a tight color box behind it
% the `\strut` makes the colorbox always full height, regardless of the height of the text inside it
% see https://tex.stackexchange.com/questions/7530
\newcommand{\coltxt}[2]{{\setlength{\fboxsep}{0pt}\colorbox{#1}{\strut #2}}}

% for drawing a nice looking ~
\newcommand{\nicetilde}{\raisebox{0.5ex}{\texttildelow}}

% for highlighting TODOs
\newcommand{\todo}[1]{\coltxt{red}{#1}}

% configure code listings
% modified from the listings package
\lstdefinelanguage{OwnC}{
	morekeywords={
		auto, break, case, const, continue, default, do, 	else, enum, extern, for, goto,
		if ,register, return, sizeof, static, struct, switch, typedef, union, volatile, while
	},
	morekeywords=[3]{
		char, double, float, int, long, short, signed, unsigned, void, uint8_t, uint16_t,
		uint32_t, uint64_t, UINT8, PUINT8, UINT64, VOID, PVOID
	},
	sensitive,
	morecomment=[s]{/*}{*/},
	morecomment=[l]//,
	morestring=[b]",
	morestring=[b]',
	moredelim=*[directive]\#,
	moredirectives={
		define, elif, else, endif, error, if, ifdef, ifndef, line, include, pragma, undef, warning
	}
}[keywords, comments, strings, directives]
% inspiration taken from listings-rust
\lstdefinestyle{BaseStyle}{
	frame=trbL,
	basicstyle=\footnotesize\ttfamily,
    keywordstyle=\bfseries,
    commentstyle=\color[gray]{0.4},
    stringstyle=\color[rgb]{0, 0, 0.5},
    numberstyle=\tiny,
	backgroundcolor=\color[gray]{0.97},
	rulecolor=\color[gray]{0.90},
	numbers=left,
	firstnumber=auto,
	numberblanklines=true,
	numberstyle=\tiny,
	frame=leftline,
	numbersep=7pt,
	framesep=5pt,
	framerule=10pt,
	xleftmargin=15pt,
	tabsize=4,
	keepspaces=true,
	showspaces=false,
	showtabs=false,
	showstringspaces=false,
	columns=spaceflexible,
}
\lstdefinestyle{CStyle}{
	style=BaseStyle,
    language=OwnC,
    % morekeywords=[3]{PLUKS2_VOLUME_INFO, PLUKS2_VOLUME_CRYPTO},
	keywordstyle=[3]\color[rgb]{0, 0.5, 0}, % primitive types
}
\lstdefinestyle{RustStyle}{
	style=BaseStyle,
	language=Rust,
	keywordstyle=[2]\color[rgb]{0.75, 0, 0}, % traits
	keywordstyle=[3]\color[rgb]{0, 0.5, 0},  % primitive types
	keywordstyle=[4]\color[rgb]{0, 0.5, 0},  % type and value constructors
	keywordstyle=[5]\color[rgb]{0, 0, 0.75}, % macros
}

\begin{document}

\thispagestyle{empty}

\input{title_page}

\pagenumbering{roman}

\newpage

\thispagestyle{empty}

\input{0_abstract}

\newpage

\thispagestyle{empty}
\tableofcontents

\newpage

\pagenumbering{arabic}

\input{1_introduction}

\newpage

\input{2_background}

\newpage

\input{3_related_work}

\newpage

\input{4_other_approaches}

\newpage

\input{5_design_and_implementation}

\newpage

\input{6_performance}

\newpage

\input{7_discussion}

\newpage

\input{8_conclusion}

\newpage

\listoffigures
\addcontentsline{toc}{section}{List of Figures}

\newpage

\listoftables
\addcontentsline{toc}{section}{List of Tables}

\newpage

\phantomsection
\addcontentsline{toc}{section}{References}
\bibliography{references}

\end{document}