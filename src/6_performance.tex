\section{Performance of Our Driver}
\label{chap:performance}

\subsection{First Experiments}
\label{chap:performance.firstexperiments}

\subsection{Final Experimental Setup}
\label{chap:performance.finalsetup}

\subsection{Results}
\label{chap:performance.results}
For testing purposes, we tried optimizing the performance by restricting support to AES256-XTS. This enabled removing some if-else constructs that dispatched de-/encryption functions based on whether AES128 or AES256 was used. Even though these conditionals were located in a performance critical section, we saw no speed improvements. Our theory for why this was the case is the following: our driver was only ever used for one LUKS2 partition and therefore always took the same path through the if-else (either always AES128 or always AES256). This trained the CPU's branch prediction on this one specific path. Thus, after a short training phase, the CPU always speculatively executed the correct path, resulting in the same performance as without the if-else.