\chapter{Introduction}
\label{chap:introduction}
Data privacy is an important topic in today's increasingly digital world. Deciding and controlling who has access to what information is a huge part of one's digital autonomy. This is not only relevant for data made available via the Internet, but also for offline storage.

If third parties' access to permanently stored data cannot be completely ruled out, preventing them from reading it may be desirable. Depending on the type of data, it may even be absolutely essential, for example if trade or state secrets are concerned. An everyday example for a scenario like this is a laptop: it may get lost or stolen, giving other people physical access to the contents of its data storage. Accidentally giving others access to data can also happen when disposing of old hard disks or SSDs: overwriting data in such a way that it cannot be recovered is a non-trivial process.\footnote{\label{fn:introduction.secureerasure} We will come across this fact again in the next chapter and discuss it in more detail.}

One way of preventing information leaks even in the case of physical access is to encrypt the partition containing the data, also known as full disk encryption. This method of data protection has become more and more popular as hardware and thus encryption have become faster. There are different standards and technologies for full disk encryption. One of them is Microsoft's BitLocker technology, which is a built-in feature of the Windows operating system. The fact that Microsoft created their own disk encryption solution shows the importance and popularity of this technology. Another possibility is the Linux Unified Key Setup (LUKS), which currently exists in its second version called LUKS2. As the name suggests, it was designed for usage with operating systems from the Linux family, and is quite popular in that domain: the repositories of all major Linux distributions contain the LUKS2 packages, and most describe how to use it in their wikis. As the usage of Linux continues to grow, LUKS2 probably accounts for a considerable portion of fully encrypted disks.

However, as far as we know, it is currently not possible to use LUKS2-encrypted volumes on Windows.\footnote{\label{fn:introduction.librecrypt} There is the \href{https://t-d-k.github.io/LibreCrypt/}{LibreCrypt} project, but it only supports the first version of LUKS. It also seems not to be maintained any more.} This is a significant drawback compared to other full disc encryption solutions that are cross-platform, such as the VeraCrypt project, which works on both Linux and Windows. Because we think that competition between multiple standards for disk encryption on Windows is desirable, we want to try and eliminate this drawback. The purpose and contribution of this thesis therefore is to see if it is feasible, with reasonable effort, to bring LUKS2 support to Windows, and if yes, check whether the performance can hold up to practical usage standards.

When measuring I/O performance, one needs to consider the two possible access patterns, sequential and random access. According to \cite{Traeger2008}, random-access I/O ``is typical of on-line transaction processing (OLTP) systems, database systems, or mail server applications.'' Examples for sequential access are ``large file processing (scientific computing, large-scale financial processing), large database queries (data mining, business intelligence), and on-demand video.'' For a storage solution to be usable in practice, both its sequential and random-access throughput need to be high enough.

In \autoref{chap:background} we describe how the LUKS2 encryption standard works, as understanding this is crucial for implementing it. The on-disk format, how to unlock an encrypted partition, and how to use an unlocked partition are outlined. We chose to write a Windows kernel driver to realize our endeavour, and therefore also detail the knowledge required to comprehend the mechanics and development of such a driver. This includes information on Windows' inner workings, an introduction to its driver models and concepts, and driver debugging techniques.

Full disk encryption, kernel drivers, and benchmarking storage systems are all well-researched topics. In \autoref{chap:relatedwork}, we lay out important work related to this thesis.

Microsoft's BitLocker technology and the VeraCrypt project both have already been mentioned. To understand the state of full disk encryption and the currently available solutions, \autoref{chap:otherapproaches} is devoted to these other approaches. Additional to the two already mentioned implementations, LUKS2's reference implementation and the subsystem of the Linux kernel that it uses are described in detail. This includes all relevant cryptographic and theoretical details as well as implementation specifics.

\autoref{chap:ourapproach} is all about our implementation of LUKS2 on Windows, which consists of two components, together forming the Oknolynx project. Our choice for a driver framework, the architecture and initialization process, as well as the details of its operation are all described.

As mentioned above, we do not only want to implement LUKS2 support on Windows; we also want to quantify how well it performs. These performance measurements, including comparisons to BitLocker and VeraCrypt, are the contents of \autoref{chap:performance}. We perform preliminary tests in a virtual machine, and afterwards more extensive measurements on real hardware.

Our conclusions on the success of our feasibility study are laid out it \autoref{chap:conclusion}, together with suggestions for possible further work and research.

Finally, one note on terminology: in this thesis, we use the terms \emph{volume} and \emph{partition} equivalently.
%
% Content ideas:
% - Motivation, interessant machen, was ist der Use Case?, LUKS2 generell cool => auch unter Windows, grober Überblick über andere Kapitel
% - heute viele leute fde, mehr leute linux, stats wie popular linux/luks2 ist, `marketing-geblubbler'
% - ganz allgemein, privacy und festplatten und computer wichtig -> motivation, cross-platform und konkurrenz immer gut
% - machbarkeitsstudie: ``wäre ja voll geil sowas zu haben und generell, ist das mit vertretbarem aufwand machbar? wie weit kommt man?